<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>유니코드 폰트 변환기</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }
        textarea {
            width: 100%;
            min-height: 100px;
            padding: 10px;
            margin-bottom: 10px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }
        #outputBox {
            background-color: #f4f4f4;
            border: 1px dashed #ddd;
            padding: 15px;
            min-height: 50px;
            word-wrap: break-word; /* 긴 텍스트 줄바꿈 */
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        button:hover {
            background-color: #45a049;
        }
        .message {
            margin-top: 15px;
            color: #333;
        }
    </style>
</head>
<body>

    <h1>✨ 둥근 글씨 변환기 (GitHub Pages) ✨</h1>

    <h2>1. 텍스트 입력</h2>
    <textarea id="inputBox" oninput="handleConversion()" placeholder="여기에 변환할 텍스트를 입력하세요. (입력 즉시 변환됩니다)"></textarea>

    <h2>2. 변환 결과</h2>
    <div id="outputBox"></div>
    
    <button onclick="copyToClipboard()">복사하기</button>

    <p id="copyMessage" class="message"></p>

    <script>
        // --- 폰트 변환 로직 ---

        const CIRCLED_MAP = {
            // 대문자 (A-Z)
            'A': 'Ⓐ', 'B': 'Ⓑ', 'C': 'Ⓒ', 'D': 'Ⓓ', 'E': 'Ⓔ',
            'F': 'Ⓕ', 'G': 'Ⓖ', 'H': 'Ⓗ', 'I': 'Ⓘ', 'J': 'Ⓙ',
            'K': 'Ⓚ', 'L': 'Ⓜ', 'M': 'Ⓜ', 'N': 'Ⓝ', 'O': 'Ⓞ',
            'P': 'Ⓟ', 'Q': 'Ⓠ', 'R': 'Ⓡ', 'S': 'Ⓢ', 'T': 'Ⓣ',
            'U': 'Ⓤ', 'V': 'Ⓥ', 'W': 'Ⓦ', 'X': 'Ⓧ', 'Y': 'Ⓨ',
            'Z': 'Ⓩ',

            // 소문자 (a-z)
            'a': 'ⓐ', 'b': 'ⓑ', 'c': 'ⓒ', 'd': 'ⓓ', 'e': 'ⓔ',
            'f': 'ⓕ', 'g': 'ⓖ', 'h': 'ⓗ', 'i': 'ⓘ', 'j': 'ⓙ',
            'k': 'ⓚ', 'l': 'ⓛ', 'm': 'ⓜ', 'n': 'ⓝ', 'o': 'ⓞ',
            'p': 'ⓟ', 'q': 'ⓠ', 'r': 'ⓡ', 's': 'ⓢ', 't': 'ⓣ',
            'u': 'ⓤ', 'v': 'ⓥ', 'w': 'ⓦ', 'x': 'ⓧ', 'y': 'ⓨ',
            'z': 'ⓩ',

            // 숫자 (0-9)
            '0': '⓪', '1': '①', '2': '②', '3': '③', '4': '④',
            '5': '⑤', '6': '⑥', '7': '⑦', '8': '⑧', '9': '⑨'
        };

        /**
         * 텍스트를 둥근 글씨체 유니코드로 변환하는 함수
         * @param {string} text 변환할 원본 문자열
         * @returns {string} 변환된 둥근 글씨체 문자열
         */
        function convertToCircledText(text) {
            let convertedText = '';
            for (let i = 0; i < text.length; i++) {
                const char = text[i];
                // 대문자, 소문자, 숫자가 아닌 문자는 그대로 유지
                convertedText += CIRCLED_MAP[char] || char; 
            }
            return convertedText;
        }

        // --- DOM 및 이벤트 핸들링 ---

        const inputBox = document.getElementById('inputBox');
        const outputBox = document.getElementById('outputBox');
        const copyMessage = document.getElementById('copyMessage');

        /** 입력 박스에 내용이 바뀔 때마다 변환 및 출력 */
        function handleConversion() {
            const originalText = inputBox.value;
            const converted = convertToCircledText(originalText);
            outputBox.innerText = converted;
            // 입력 시에는 복사 메시지를 초기화
            copyMessage.innerText = ''; 
        }

        /** 클립보드 복사 기능 */
        function copyToClipboard() {
            const textToCopy = outputBox.innerText;

            if (!textToCopy) {
                copyMessage.innerText = "변환할 텍스트가 없습니다.";
                return;
            }

            // Clipboard API 사용 (가장 깔끔하고 최신 방식)
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(textToCopy)
                    .then(() => {
                        copyMessage.innerText = "✅ 둥근 글씨가 클립보드에 복사되었습니다!";
                    })
                    .catch(err => {
                        console.error("복사 실패:", err);
                        copyMessage.innerText = "❌ 복사 기능이 지원되지 않아 수동으로 복사해야 합니다.";
                    });
            } else {
                // 구형 브라우저 또는 HTTP 환경을 위한 대체 복사 방법
                try {
                    // 임시 textarea를 생성하여 복사 실행
                    const tempTextarea = document.createElement('textarea');
                    tempTextarea.value = textToCopy;
                    document.body.appendChild(tempTextarea);
                    tempTextarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(tempTextarea);
                    copyMessage.innerText = "✅ 둥근 글씨가 클립보드에 복사되었습니다!";
                } catch (err) {
                    copyMessage.innerText = "❌ 복사 기능이 지원되지 않아 수동으로 복사해야 합니다.";
                }
            }
        }
    </script>

</body>
</html>
